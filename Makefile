# **************************************************************************** #
#                                                                              #
#                                                         :::      ::::::::    #
#    Makefile                                           :+:      :+:    :+:    #
#                                                     +:+ +:+         +:+      #
#    By: wlouaked <wlouaked@student.42.fr>          +#+  +:+       +#+         #
#                                                 +#+#+#+#+#+   +#+            #
#    Created: 2024/09/14 00:54:50 by wayl              #+#    #+#              #
#    Updated: 2024/10/02 14:47:12 by wlouaked         ###   ########.fr        #
#                                                                              #
# **************************************************************************** #


NAME = push_swap

LIBFT = libft/libft.a
LIBFT_DIR = libft

CC = cc
CFLAGS = -Wall -Wextra -Werror -g3

RED      = '\033[0;31m'
GREEN    = '\033[0;32m'
YELLOW   = '\033[0;33m'
BLUE     = '\033[0;34m'
PURPLE   = '\033[0;35m'
NC       = '\033[0m'

SRC =   src/main.c\
	src/lst_function.c\
	src/free_function.c\
	src/make_list.c\
	src/check_function.c\
	src/check_function2.c\
	src/utils.c\
	src/utils2.c\
	src/utils3.c\
	src/utils4.c\
	src/utils5.c\
	src/utils6.c\
	src/utils7.c\
	src/utils8.c\
	src/utils9.c\
	src/check_function3.c\
	src/swap_function.c\
	src/push_function.c\
	src/rotate_function.c\
	src/reverse_rotate.c\
	src/handle_parse.c\
	src/little_sort.c\
	src/medium_sort.c

OBJ = $(SRC:.c=.o)

# ---------------------------------- RULES ----------------------------------- #

all: $(LIBFT) $(NAME)

$(NAME)	: $(OBJ) $(LIBFT)
	@$(CC) $(CFLAGS) -o $(NAME) $(OBJ) libft/libft.a
	@echo $(BLUE)✅ $@  build successful! $(NC)

%.o: %.c
	@$(CC) $(CFLAGS) -c $< -o $@
	@echo $(BLUE)✅ $< compiled! $(NC)

$(LIBFT):
	@$(MAKE) -C $(LIBFT_DIR)
	@echo $(BLUE)✅ $@ compiled! $(NC)

clean	:
	@rm -rf $(OBJ)
	@echo $(BLUE)🗑️  src/*.o deleted! $(NC)


fclean	: clean
	@$(MAKE) -C $(LIBFT_DIR) fclean
	@rm -rf $(OBJ) $(NAME)
	@echo $(BLUE)🗑️ push_swap , src/*.o deleted! $(NC)

re	: fclean all

run	: $(NAME)
	./$(NAME) 0 3 5 2 1 7 6 9 8 4

run2     : $(NAME)
	./$(NAME)  492 133 191 481 140 193 228 11 451 346 71 134 345 61 60 237 440 177 433 262 143 487 490 94 25 266 320 79 324 44 52 190 13 35 425 152 131 218 70 403 7 306 436 427 244 343 220 170 362 111 88 312 269 56 295 214 89 58 354 340 305 14 249 30 154 43 379 276 268 264 45 164 4 445 376 245 8 489 235 303 120 33 173 95 122 57 493 328 373 442 476 416 308 2 107 368 135 334 115 411 296 494 108 189 50 210 202 405 160 455 488 59 48 104 12 55 397 62 500 66 174 279 203 182 93 299 200 499 129 465 68 144 409 315 444 480 454 447 73 109 149 178 383 199 167 437 449 252 475 99 258 468 301 192 118 281 40 452 230 302 231 341 389 86 141 491 453 330 386 282 339 51 162 209 450 163 257 17 27 147 400 78 285 458 138 116 28 212 139 91 429 371 284 327 347 434 215 356 168 39 5 485 463 179 441 242 9 180 219 187 412 360 293 184 81 283 439 233 31 87 329 240 137 426 381 150 274 402 399 336 318 310 277 395 335 247 380 300 456 246 253 159 204 270 53 106 272 254 18 314 26 423 63 158 350 227 385 470 161 309 406 280 393 462 471 126 448 297 24 446 1 232 90 157 351 142 16 42 369 323 497 185 398 342 77 401 438 479 392 357 261 271 472 208 153 390 176 367 265 105 221 418 72 124 304 443 34 384 223 196 239 338 101 3 407 54 495 103 292 183 461 377 166 130 353 486 29 294 420 74 198 477 241 125 372 20 194 430 473 15 365 374 49 10 110 375 408 352 65 238 243 382 428 332 331 165 259 136 322 207 186 483 19 98 117 289 388 38 414 355 316 290 82 224 22 286 288 83 172 216 64 422 188 67 211 467 478 459 291 76 435 364 431 113 317 273 146 119 32 128 195 47 349 421 236 482 496 344 97 102 234 175 337 6 313 255 333 361 197 469 21 326 298 396 498 132 358 205 378 155 112 287 460 275 46 250 181 92 413 36 123 100 432 121 363 474 359 424 256 148 267 366 417 325 206 321 222 151 80 201 278 226 419 127 394 248 464 23 41 169 484 263 251 410 348 260 156 370 415 225 387 319 213 69 311 466 307 217 171 457 84 229 114 85 391 37 145 96 75 404
val	:
	valgrind --leak-check=full -s ./$(NAME) 0 1 2 3 4 5 6

fun	:
	funcheck ./$(NAME)

.PHONY : all bonus clean fclean re run val fun

# ---------------------------------------------------------------------------- #
